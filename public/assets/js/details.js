function menu(id){const menu=document.getElementById(id);menu.classList.toggle("none")}function showcomm(){const form=document.getElementById("formcomm"),chevron=document.getElementById("chevron"),span=document.getElementById("commcontent");form.classList.toggle("none"),chevron.classList.toggle("bx-chevron-right"),chevron.classList.toggle("bx-chevron-down"),"Click here to close this menu"===span.innerText?span.innerText="Click here to post a comment ":span.innerText="Click here to close this menu"}async function haveiliked(url,id){let resp=await fetch(url),data;1==(await resp.json()).value&&(document.getElementById("empty"+id).classList.add("filled"),document.getElementById("empty"+id).classList.remove("empty"),document.getElementById("filled"+id).classList.add("empty"),document.getElementById("filled"+id).classList.remove("filled"))}async function heartclick(url,id){await fetch(url);let empty=document.getElementById("empty"+id),filled=document.getElementById("filled"+id);empty.classList.toggle("empty"),empty.classList.toggle("filled"),filled.classList.toggle("empty"),filled.classList.toggle("filled");let number=document.getElementById("num"+id);return empty.classList.contains("filled")?(number.innerText=parseInt(number.innerText)+1,!0):(number.innerText=parseInt(number.innerText)-1,!1)}function addtocart(id){return fetch("/cart/add/"+id).then(resp=>{resp.redirected||resp.json().then(data=>{if(!0===data.add){let elem=document.getElementById("cart_"+data.id).querySelector("div div span");elem.innerHTML=parseInt(elem.innerHTML)+1}else{const id_cart_elem=data.id,url=location.protocol+"//"+window.location.hostname+":8000/api/products/"+id;fetch(url).then(response=>{response.ok&&response.json().then(data=>{let cart=document.getElementById("cart_to_fill");console.log(cart),cart.innerHTML+=`\n                                    <li id="cart_${id_cart_elem}">\n                                        <div class="show_cart">\n                                            <img src="/storage/product_img/${data.img}" style="padding-left: 3%; width: 22%; display: block; user-select: none !important;">\n\n                                            <div class="d-flex flex-column cartelem" style="width: 57%; overflow: hidden;">\n                                                <a href="/details/${id_cart_elem}" style="width: 94%; padding: 6px 0px 0px 20px;  overflow: hidden;">${data.name}</a>\n                                                <div>\n                                                    <i class="bi bi-x"></i><span>1</span>\n                                                </div>\n                                            </div>\n                                            <div class="d-flex flex-row m-auto">\n                                                <button style="border-top-left-radius: 7px;border-bottom-left-radius: 7px;" class="cartbutton button-pink" onclick='deleteitem("cart_${id_cart_elem}")'>-</button>\n                                                <button style="border-top-right-radius: 7px;border-bottom-right-radius: 7px;" class="cartbutton button-blue" onclick='addtocart("${id_cart_elem}")'>+</button>\n                                            </div>\n                                        </div>\n                                    </li>\n                                    <hr id="hrcart_${id_cart_elem}">\n\n                                `})})}const num=document.getElementById("number");""===num.innerHTML?num.innerHTML=1:num.innerHTML=parseInt(num.innerHTML)+1})}),!0}$((function(){$("#commentTextBar").markItUp(mySettings)}));